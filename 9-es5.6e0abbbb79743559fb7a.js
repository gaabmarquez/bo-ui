function _createForOfIteratorHelper(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var c=0,i=function(){};return{s:i,n:function(){return c>=e.length?{done:!0}:{done:!1,value:e[c++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return r=e.done,e},e:function(e){a=!0,o=e},f:function(){try{r||null==t.return||t.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,c=new Array(n);t<n;t++)c[t]=e[t];return c}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var c=n[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Wm2z:function(e,n,t){"use strict";t.r(n),t.d(n,"ProjectsModule",(function(){return Xe}));var c,i,o=t("PCNd"),r=t("s7LF"),a=t("SVse"),l=t("wHSu"),s=t("8Y7J"),d=t("iInd"),p=t("AehT"),u=t("AytR"),f=t("IheW"),m=((c=function(){function e(n){_classCallCheck(this,e),this.http=n}return _createClass(e,[{key:"getAllProjects",value:function(){return this.http.get(u.a.baseUrl+"/projects")}},{key:"addProject",value:function(e){return this.http.post(u.a.baseUrl+"/projects",e)}},{key:"getAllComponents",value:function(){return this.http.get(u.a.baseUrl+"/components")}},{key:"getApplicationsByProjectId",value:function(e){return this.http.get("".concat(u.a.baseUrl,"/projects/").concat(e,"/applications"))}},{key:"updateApplication",value:function(e,n,t){return this.http.put("".concat(u.a.baseUrl,"/applications/").concat(e,"/configs/").concat(n),t)}},{key:"deleteApplication",value:function(e,n,t){return this.http.delete("".concat(u.a.baseUrl,"/applications/").concat(e,"/configs/").concat(n,"?changeMessage=").concat(t))}},{key:"deleteComponent",value:function(e){return this.http.delete("".concat(u.a.baseUrl,"/applications/").concat(e))}},{key:"createApplication",value:function(e,n){return this.http.post("".concat(u.a.baseUrl,"/projects/").concat(e,"/applications"),n)}}]),e}()).\u0275fac=function(e){return new(e||c)(s.kc(f.c))},c.\u0275prov=s.Sb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),b=t("XNiG"),h=((i=function(){function e(n){_classCallCheck(this,e),this.http=n,this.fileFetchedSubj=new b.a,this.fileSelectedSubj=new b.a,this.errorFetchingSubj=new b.a,this.deleteComponentSubj=new b.a,this.addConfig=new b.a}return _createClass(e,[{key:"getSelectedFile",value:function(e,n,t){var c,i=this,o=n.join("/");c=o?"".concat(u.a.baseUrl,"/applications/").concat(e,"/configs/").concat(o,"/").concat(t):"".concat(u.a.baseUrl,"/applications/").concat(e,"/configs/").concat(t),this.http.get(c).subscribe((function(n){i.fileSelectedSubj.next(!1),i.fileFetchedSubj.next(Object.assign(Object.assign({},n),{appId:e}))}),(function(e){i.fileSelectedSubj.next(!1),i.errorFetchingSubj.next(!0)}))}},{key:"deleteComponent",value:function(){return this.deleteComponentSubj}},{key:"addComponentConfig",value:function(){return this.addConfig}},{key:"fileFetched",value:function(){return this.fileFetchedSubj}},{key:"fileSelected",value:function(){return this.fileSelectedSubj}},{key:"onNotFound",value:function(){return this.errorFetchingSubj}}]),e}()).\u0275fac=function(e){return new(e||i)(s.kc(f.c))},i.\u0275prov=s.Sb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),g=t("G0yt"),v=t("Nv++"),y=["reason"],C=["content"];function F(e,n){if(1&e&&s.Xb(0,"fa-icon",10),2&e){var t=s.rc(2);s.zc("icon",t.faSpinner)("spin",!0)}}function k(e,n){if(1&e){var t=s.dc();s.cc(0,"div",1),s.cc(1,"h4",2),s.Uc(2,"Confirmar cambios"),s.bc(),s.bc(),s.cc(3,"div",3),s.cc(4,"p"),s.Uc(5,"Ingrese motivo por el cual realiza los cambios"),s.bc(),s.cc(6,"textarea",4,5),s.oc("ngModelChange",(function(e){return s.Kc(t),s.rc().changeReason=e})),s.bc(),s.bc(),s.cc(8,"div",6),s.cc(9,"button",7),s.oc("click",(function(){return n.$implicit.dismiss()})),s.Uc(10,"Cancelar"),s.bc(),s.cc(11,"button",8),s.oc("click",(function(){return s.Kc(t),s.rc().confirmChanges()})),s.Uc(12," Confirmar "),s.Sc(13,F,1,2,"fa-icon",9),s.bc(),s.bc()}if(2&e){var c=s.rc();s.Fb(6),s.zc("ngModel",c.changeReason),s.Fb(3),s.zc("disabled",c.isLoading),s.Fb(2),s.zc("disabled",c.changeReason.length<1||c.isLoading),s.Fb(2),s.zc("ngIf",c.isLoading)}}var S,j=((S=function(){function e(n){_classCallCheck(this,e),this.modalService=n,this.save=new s.n,this.isLoading=!1,this.operation="",this.changeReason="",this.faSpinner=l.k}return _createClass(e,[{key:"handleModal",value:function(){this.modalReference=this.modalService.open(this.content,{ariaLabelledBy:"modal-basic-title",backdrop:"static"})}},{key:"onOpen",value:function(e){this.operation=e,this.handleModal()}},{key:"openAndSubscribe",value:function(){return this.modalService.open(this.content,{ariaLabelledBy:"modal-basic-title",backdrop:"static"}).result}},{key:"confirmChanges",value:function(){this.isLoading=!0,this.save.emit({reason:this.changeReason,operation:this.operation})}},{key:"closeModal",value:function(){this.isLoading=!1,this.changeReason="",this.modalReference.close()}},{key:"clearData",value:function(){this.changeReason=""}}]),e}()).\u0275fac=function(e){return new(e||S)(s.Wb(g.e))},S.\u0275cmp=s.Qb({type:S,selectors:[["bo-confirm-changes-modal"]],viewQuery:function(e,n){var t;1&e&&(s.Pc(y,!0),s.Pc(C,!0)),2&e&&(s.Ic(t=s.pc())&&(n.reason=t.first),s.Ic(t=s.pc())&&(n.content=t.first))},outputs:{save:"save"},decls:2,vars:0,consts:[["content",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body","mh-150"],["maxlength","200",1,"plain-text","mb-4",3,"ngModel","ngModelChange"],["reason",""],[1,"modal-footer"],[1,"btn","btn-secondary","btn-sm","p-2",3,"disabled","click"],[1,"btn","btn-primary","btn-sm","p-2",3,"disabled","click"],["style","color: #4b555f",3,"icon","spin",4,"ngIf"],[2,"color","#4b555f",3,"icon","spin"]],template:function(e,n){1&e&&s.Sc(0,k,14,4,"ng-template",null,0,s.Tc)},directives:[r.b,r.j,r.n,r.p,a.n,v.a],styles:[".mh-150[_ngcontent-%COMP%], .plain-text[_ngcontent-%COMP%]{min-height:150px}.plain-text[_ngcontent-%COMP%]{resize:none;background-color:#fff;width:100%;border-color:#cdcdcd;padding:5px 10px}"]}),S),x=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"cannotContainSpace",value:function(e){return null!=e&&null!=e.value&&e.value.indexOf(" ")>=0?{cannotContainSpace:!0}:null}}]),e}(),M=["content"];function P(e,n){1&e&&(s.cc(0,"div",19),s.Uc(1," queuename no puede contener espacios. "),s.bc())}function w(e,n){if(1&e&&(s.cc(0,"option"),s.Uc(1),s.bc()),2&e){var t=n.$implicit;s.Fb(1),s.Vc(t)}}function O(e,n){if(1&e&&s.Xb(0,"fa-icon",20),2&e){var t=s.rc(2);s.zc("icon",t.faSpinner)("spin",!0)}}var I=function(e){return{"form-control":!0,"is-invalid":e}};function _(e,n){if(1&e){var t=s.dc();s.cc(0,"div",1),s.cc(1,"h4",2),s.Uc(2,"A\xf1adir componente "),s.bc(),s.bc(),s.cc(3,"div",3),s.cc(4,"form",4),s.cc(5,"div",5),s.cc(6,"label",6),s.Uc(7,"Nombre"),s.bc(),s.Xb(8,"input",7),s.bc(),s.cc(9,"div",5),s.cc(10,"label",8),s.Uc(11,"Queuename"),s.bc(),s.Xb(12,"input",9),s.Sc(13,P,2,0,"div",10),s.bc(),s.cc(14,"div",5),s.cc(15,"label",6),s.Uc(16,"Tipo"),s.bc(),s.cc(17,"select",11),s.Sc(18,w,2,1,"option",12),s.bc(),s.bc(),s.cc(19,"div",5),s.cc(20,"label",13),s.Uc(21,"File"),s.bc(),s.cc(22,"input",14),s.oc("change",(function(e){return s.Kc(t),s.rc().onFileChange(e.target.files)})),s.bc(),s.bc(),s.bc(),s.bc(),s.cc(23,"div",15),s.cc(24,"button",16),s.oc("click",(function(){return n.$implicit.dismiss()})),s.Uc(25,"Cancelar"),s.bc(),s.cc(26,"button",17),s.oc("click",(function(){return s.Kc(t),s.rc().emitCreated()})),s.Uc(27," Confirmar "),s.Sc(28,O,1,2,"fa-icon",18),s.bc(),s.bc()}if(2&e){var c=s.rc();s.Fb(4),s.zc("formGroup",c.myForm),s.Fb(8),s.zc("ngClass",s.Dc(7,I,c.myForm.get("queuename").touched&&c.myForm.get("queuename").errors&&c.myForm.get("queuename").errors.cannotContainSpace)),s.Fb(1),s.zc("ngIf",c.myForm.get("queuename").touched&&c.myForm.get("queuename").errors&&c.myForm.get("queuename").errors.cannotContainSpace),s.Fb(5),s.zc("ngForOf",c.types),s.Fb(6),s.zc("disabled",c.isLoading),s.Fb(2),s.zc("disabled",c.isLoading||!c.myForm.valid),s.Fb(2),s.zc("ngIf",c.isLoading)}}var z,U=((z=function(){function e(n){_classCallCheck(this,e),this.modalService=n,this.types=["SERVICE","CONNECTOR","ENDPOINT"],this.fileToUpload=null,this.myForm=new r.g({name:new r.d("",[r.u.required,r.u.minLength(3)]),queuename:new r.d("",[r.u.required,r.u.minLength(3),x.cannotContainSpace]),fileType:new r.d("",[r.u.required,r.u.minLength(3)])}),this.created=new s.n,this.isLoading=!1,this.operation="",this.changeReason="",this.faSpinner=l.k}return _createClass(e,[{key:"handleModal",value:function(){var e=this;this.modalReference=this.modalService.open(this.content,{ariaLabelledBy:"modal-basic-title",beforeDismiss:function(){return e.clearData()},backdrop:"static"})}},{key:"onOpen",value:function(e){this.myForm.controls.fileType.setValue(this.types[0]),this.operation=e,this.handleModal()}},{key:"closeModal",value:function(){this.clearData(),this.isLoading=!1,this.modalReference.close()}},{key:"clearData",value:function(){return this.myForm.reset(),this.fileToUpload=null,!0}},{key:"onError",value:function(){this.isLoading=!1}},{key:"f",get:function(){return this.myForm.controls}},{key:"onFileChange",value:function(e){this.fileToUpload=e.item(0)}},{key:"emitCreated",value:function(){this.isLoading=!0;var e=new FormData;e.append("file",this.fileToUpload),e.append("fileType","zip"),e.append("type",this.myForm.get("fileType").value),e.append("queueName",this.myForm.get("queuename").value),e.append("name",this.myForm.get("name").value),this.created.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||z)(s.Wb(g.e))},z.\u0275cmp=s.Qb({type:z,selectors:[["bo-add-application-modal"]],viewQuery:function(e,n){var t;1&e&&s.Pc(M,!0),2&e&&s.Ic(t=s.pc())&&(n.content=t.first)},inputs:{projectId:"projectId"},outputs:{created:"created"},decls:2,vars:0,consts:[["content",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body","mh-150"],[3,"formGroup"],[1,"form-group"],["for","name"],["formControlName","name","id","name","type","text",1,"form-control"],["for","queuename"],["formControlName","queuename","id","queuename","type","text",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","fileType",1,"custom-select"],[4,"ngFor","ngForOf"],["for","file"],["accept",".zip","id","file","type","file",1,"form-control","py-1","px-2",3,"change"],[1,"modal-footer"],[1,"btn","btn-secondary","btn-sm","p-2",3,"disabled","click"],[1,"btn","btn-primary","btn-sm","p-2",3,"disabled","click"],["style","color: #4b555f",3,"icon","spin",4,"ngIf"],[1,"invalid-feedback"],[2,"color","#4b555f",3,"icon","spin"]],template:function(e,n){1&e&&s.Sc(0,_,29,9,"ng-template",null,0,s.Tc)},directives:[r.w,r.o,r.h,r.b,r.n,r.f,a.l,a.n,r.t,a.m,r.q,r.v,v.a],styles:[""]}),z),L=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"properFormat",value:function(n){return n.parent&&"Propiedades"==n.parent.get("fileType").value&&null!=n&&null!=n.value&&!e.isValidContent(n.value)?{invalidPropertyFormat:!0}:null}},{key:"isValidContent",value:function(e){var n,t=_createForOfIteratorHelper(e.split("\n"));try{for(t.s();!(n=t.n()).done;){var c=n.value;if(c.length>1&&!c.includes("="))return!1}}catch(i){t.e(i)}finally{t.f()}return!0}}]),e}(),D=["content"];function A(e,n){1&e&&(s.cc(0,"div",19),s.Uc(1," El nombre de la configuraci\xf3n no puede contener espacios. "),s.bc())}function T(e,n){if(1&e&&(s.cc(0,"option"),s.Uc(1),s.bc()),2&e){var t=n.$implicit;s.Fb(1),s.Vc(t)}}function E(e,n){1&e&&(s.cc(0,"div",19),s.Uc(1," La ruta no puede contener espacios. "),s.bc())}function N(e,n){1&e&&(s.cc(0,"div",19),s.Uc(1," El contenido del archivo no tiene un formato correcto "),s.bc())}function q(e,n){if(1&e&&s.Xb(0,"fa-icon",20),2&e){var t=s.rc(2);s.zc("icon",t.faSpinner)("spin",!0)}}var V=function(e){return{"form-control":!0,"is-invalid":e}},R=function(e){return{"is-invalid":e}};function K(e,n){if(1&e){var t=s.dc();s.cc(0,"div",1),s.cc(1,"h4",2),s.Uc(2,"Agregar configuraci\xf3n "),s.bc(),s.bc(),s.cc(3,"div",3),s.cc(4,"form",4),s.cc(5,"div",5),s.cc(6,"label",6),s.Uc(7,"Nombre de la configuraci\xf3n"),s.bc(),s.Xb(8,"input",7),s.Sc(9,A,2,0,"div",8),s.bc(),s.cc(10,"div",5),s.cc(11,"label",6),s.Uc(12,"Tipo"),s.bc(),s.cc(13,"select",9),s.Sc(14,T,2,1,"option",10),s.bc(),s.bc(),s.cc(15,"div",5),s.cc(16,"label",6),s.Uc(17,"Mensaje"),s.bc(),s.Xb(18,"input",11),s.bc(),s.cc(19,"div",5),s.cc(20,"label",12),s.Uc(21,"Ruta (Opcional)"),s.bc(),s.Xb(22,"input",13),s.Sc(23,E,2,0,"div",8),s.bc(),s.cc(24,"div",5),s.cc(25,"label",6),s.Uc(26,"Contenido"),s.bc(),s.cc(27,"textarea",14),s.Uc(28," "),s.bc(),s.Sc(29,N,2,0,"div",8),s.bc(),s.bc(),s.bc(),s.cc(30,"div",15),s.cc(31,"button",16),s.oc("click",(function(){return n.$implicit.dismiss()})),s.Uc(32,"Cancelar"),s.bc(),s.cc(33,"button",17),s.oc("click",(function(){return s.Kc(t),s.rc().emitCreated()})),s.Uc(34," Confirmar "),s.Sc(35,q,1,2,"fa-icon",18),s.bc(),s.bc()}if(2&e){var c=s.rc();s.Fb(4),s.zc("formGroup",c.myForm),s.Fb(4),s.zc("ngClass",s.Dc(11,V,c.myForm.get("name").touched&&c.myForm.get("name").errors&&c.myForm.get("name").errors.cannotContainSpace)),s.Fb(1),s.zc("ngIf",c.myForm.get("name").touched&&c.myForm.get("name").errors&&c.myForm.get("name").errors.cannotContainSpace),s.Fb(5),s.zc("ngForOf",c.types),s.Fb(8),s.zc("ngClass",s.Dc(13,V,c.myForm.get("path").touched&&c.myForm.get("path").errors&&c.myForm.get("path").errors.cannotContainSpace)),s.Fb(1),s.zc("ngIf",c.myForm.get("path").touched&&c.myForm.get("path").errors&&c.myForm.get("path").errors.cannotContainSpace),s.Fb(4),s.zc("ngClass",s.Dc(15,R,c.myForm.get("content").touched&&c.myForm.get("content").errors&&c.myForm.get("content").errors.invalidPropertyFormat)),s.Fb(2),s.zc("ngIf",c.myForm.get("content").touched&&c.myForm.get("content").errors&&c.myForm.get("content").errors.invalidPropertyFormat),s.Fb(2),s.zc("disabled",c.isLoading),s.Fb(2),s.zc("disabled",c.isLoading||!c.myForm.valid),s.Fb(2),s.zc("ngIf",c.isLoading)}}var X,W=((X=function(){function e(n){_classCallCheck(this,e),this.modalService=n,this.types=["Texto","Propiedades"],this.fileToUpload=null,this.myForm=new r.g({name:new r.d("",[r.u.required,r.u.minLength(3),x.cannotContainSpace]),path:new r.d("",[x.cannotContainSpace]),fileType:new r.d("",[r.u.required,r.u.minLength(3)]),message:new r.d("",[r.u.required,r.u.minLength(3)]),content:new r.d("",[r.u.required,r.u.minLength(3),L.properFormat])}),this.created=new s.n,this.isLoading=!1,this.operation="",this.changeReason="",this.faSpinner=l.k}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.myForm.get("fileType").valueChanges.subscribe((function(n){e.myForm.controls.content.updateValueAndValidity()}))}},{key:"handleModal",value:function(){var e=this;this.modalReference=this.modalService.open(this.content,{ariaLabelledBy:"modal-basic-title",size:"lg",beforeDismiss:function(){return e.clearData()},backdrop:"static"})}},{key:"onOpen",value:function(e){this.myForm.controls.fileType.setValue(this.types[0]),this.operation=e,this.handleModal()}},{key:"closeModal",value:function(){this.clearData(),this.isLoading=!1,this.modalReference.close()}},{key:"clearData",value:function(){return this.myForm.reset(),this.fileToUpload=null,!0}},{key:"onError",value:function(){this.isLoading=!1}},{key:"f",get:function(){return this.myForm.controls}},{key:"onFileChange",value:function(e){this.fileToUpload=e.item(0)}},{key:"emitCreated",value:function(){this.isLoading=!0,this.created.emit(this.createFormData())}},{key:"createFormData",value:function(){var e=new FormData;return e.append("type",this.myForm.get("fileType").value),e.append("path",this.myForm.get("path").value),e.append("name",this.myForm.get("name").value),e.append("message",this.myForm.get("message").value),e.append("content",this.myForm.get("content").value),e}}]),e}()).\u0275fac=function(e){return new(e||X)(s.Wb(g.e))},X.\u0275cmp=s.Qb({type:X,selectors:[["bo-add-component-configuration"]],viewQuery:function(e,n){var t;1&e&&s.Pc(D,!0),2&e&&s.Ic(t=s.pc())&&(n.content=t.first)},inputs:{projectId:"projectId"},outputs:{created:"created"},decls:2,vars:0,consts:[["content",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body","mh-150"],[3,"formGroup"],[1,"form-group"],["for","name"],["formControlName","name","id","name","type","text",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","fileType",1,"custom-select"],[4,"ngFor","ngForOf"],["formControlName","message","id","message","type","text",1,"form-control"],["for","path"],["formControlName","path","id","path","type","text",3,"ngClass"],["formControlName","content","id","content",1,"form-control","plain-text",3,"ngClass"],[1,"modal-footer"],[1,"btn","btn-secondary","btn-sm","p-2",3,"disabled","click"],[1,"btn","btn-primary","btn-sm","p-2",3,"disabled","click"],["style","color: #4b555f",3,"icon","spin",4,"ngIf"],[1,"invalid-feedback"],[2,"color","#4b555f",3,"icon","spin"]],template:function(e,n){1&e&&s.Sc(0,K,36,17,"ng-template",null,0,s.Tc)},directives:[r.w,r.o,r.h,r.b,r.n,r.f,a.l,a.n,r.t,a.m,r.q,r.v,v.a],styles:[".plain-text[_ngcontent-%COMP%]{resize:vertical;width:100%;min-height:300px;padding:10px}.modal-body[_ngcontent-%COMP%]{padding:1rem 2rem}"]}),X),Q=t("d2bA"),$=t("GS7A");function G(e,n){if(1&e&&(s.cc(0,"div"),s.Xb(1,"bo-file-structure",12),s.bc()),2&e){var t=n.$implicit,c=s.rc(2);s.Fb(1),s.zc("node",t)("level",c.level+1)("path",c.path+(c.level>0?"/"+c.node.name:""))("paddingInEm",c.level+1.5)}}function B(e,n){if(1&e){var t=s.dc();s.cc(0,"div",2),s.cc(1,"div"),s.cc(2,"p",3),s.oc("click",(function(){s.Kc(t);var e=s.rc();return e.isCollapsed=!e.isCollapsed})),s.Xb(3,"fa-icon",4),s.Uc(4),s.bc(),s.cc(5,"span",5),s.cc(6,"fa-icon",6),s.oc("click",(function(){return s.Kc(t),s.rc().onAddConfig()})),s.bc(),s.cc(7,"fa-icon",7),s.oc("click",(function(){return s.Kc(t),s.rc().onDelete()})),s.bc(),s.bc(),s.bc(),s.Xb(8,"div",8),s.cc(9,"div",9),s.cc(10,"div",10),s.Sc(11,G,2,4,"div",11),s.bc(),s.bc(),s.bc()}if(2&e){var c=s.rc();s.Fb(2),s.Gb("aria-expanded",!c.isCollapsed),s.Fb(1),s.zc("icon",c.isCollapsed?c.faCaretRight:c.faCaretDown),s.Fb(1),s.Xc(" ",c.node.name," (",c.node.id,") "),s.Fb(2),s.zc("icon",c.faPlusCircle),s.Fb(1),s.zc("icon",c.faTrash),s.Fb(2),s.zc("ngbCollapse",c.isCollapsed)("@expandCollapse",c.isCollapsed?"closed":"open"),s.Fb(2),s.zc("ngForOf",c.node.nodes)}}function H(e,n){if(1&e){var t=s.dc();s.cc(0,"span",17),s.oc("click",(function(){s.Kc(t);var e=s.rc(2);return e.onFileSelected(e.node)})),s.Xb(1,"fa-icon",18),s.Uc(2),s.bc()}if(2&e){var c=s.rc(2);s.Fb(1),s.zc("icon",c.faFile),s.Fb(1),s.Wc(" ",c.node.name," ")}}function J(e,n){if(1&e&&(s.cc(0,"span"),s.Xb(1,"fa-icon",19),s.Uc(2),s.bc()),2&e){var t=s.rc(2);s.Fb(1),s.zc("icon",t.faFolder),s.Fb(1),s.Wc(" ",t.node.name," ")}}function Y(e,n){if(1&e&&(s.cc(0,"div"),s.Xb(1,"bo-file-structure",12),s.bc()),2&e){var t=n.$implicit,c=s.rc(2);s.Fb(1),s.zc("node",t)("level",c.level+1)("path",c.path+(c.level>0?"/"+c.node.name:""))("paddingInEm",.65*c.level)}}var Z=function(e){return{"padding-left":e}};function ee(e,n){if(1&e){var t=s.dc();s.cc(0,"div",13),s.cc(1,"span",14),s.oc("click",(function(){s.Kc(t);var e=s.rc();return e.isCollapsed=!e.isCollapsed})),s.Sc(2,H,3,2,"span",15),s.Sc(3,J,3,2,"span",16),s.bc(),s.cc(4,"div",9),s.cc(5,"div",10),s.Sc(6,Y,2,4,"div",11),s.bc(),s.bc(),s.bc()}if(2&e){var c=s.rc();s.zc("ngStyle",s.Dc(7,Z,c.getPadding())),s.Fb(1),s.Gb("aria-expanded",!c.isCollapsed),s.Fb(1),s.zc("ngIf",!c.node.nodes),s.Fb(1),s.zc("ngIf",c.node.nodes),s.Fb(1),s.zc("ngbCollapse",c.isCollapsed)("@expandCollapse",c.isCollapsed?"closed":"open"),s.Fb(2),s.zc("ngForOf",c.node.nodes)}}var ne,te=((ne=function(){function e(n){_classCallCheck(this,e),this.stateService=n,this.faFolder=l.g,this.faFile=l.f,this.faCaretDown=l.a,this.faCaretRight=l.b,this.faPlusCircle=l.j,this.faTrash=l.o,this.isCollapsed=!0,this.paddingInEm=0,this.level=0,this.path=""}return _createClass(e,[{key:"getPadding",value:function(){return this.paddingInEm+"em"}},{key:"onFileSelected",value:function(e){this.stateService.fileSelected().next(!0);var n=this.path.split("/")[0],t=this.path.split("/");t.shift(),this.stateService.getSelectedFile(n,t,e.name)}},{key:"onDelete",value:function(){this.stateService.deleteComponent().next(this.node)}},{key:"onAddConfig",value:function(){this.stateService.addComponentConfig().next(this.node)}}]),e}()).\u0275fac=function(e){return new(e||ne)(s.Wb(h))},ne.\u0275cmp=s.Qb({type:ne,selectors:[["bo-file-structure"]],inputs:{node:"node",paddingInEm:"paddingInEm",level:"level",path:"path"},decls:2,vars:2,consts:[["class","level-0",4,"ngIf"],["class","mt-1",3,"ngStyle",4,"ngIf"],[1,"level-0"],["aria-controls","collapseExample",1,"title",3,"click"],[2,"color","#4b555f","margin-right","5px",3,"icon"],[1,"float-right"],["placement","top","ngbTooltip","Agregar configuraci\xf3n",1,"action-icon","add",3,"icon","click"],["placement","top","ngbTooltip","Eliminar componente",1,"action-icon","delete",3,"icon","click"],[1,"divider"],["id","collapseExample",3,"ngbCollapse"],[1,"folder"],[4,"ngFor","ngForOf"],[3,"node","level","path","paddingInEm"],[1,"mt-1",3,"ngStyle"],["aria-controls","collapseExample",2,"cursor","pointer",3,"click"],[3,"click",4,"ngIf"],[4,"ngIf"],[3,"click"],[1,"icon","file",3,"icon"],["size","lg",1,"icon","folder",3,"icon"]],template:function(e,n){1&e&&(s.Sc(0,B,12,9,"div",0),s.Sc(1,ee,7,9,"div",1)),2&e&&(s.zc("ngIf",0==n.level),s.Fb(1),s.zc("ngIf",n.level>0))},directives:[a.n,v.a,g.i,g.c,a.m,ne,a.o],styles:[".level-0[_ngcontent-%COMP%]{padding:5px}.title[_ngcontent-%COMP%]{font-weight:700;cursor:pointer;display:inline-block;margin-bottom:10px}.divider[_ngcontent-%COMP%]{padding-bottom:5px;margin-bottom:2px;border-top:2px solid hsla(0,0%,86.3%,.48627450980392156);height:2px}.action-icon[_ngcontent-%COMP%]{cursor:pointer}.action-icon.delete[_ngcontent-%COMP%]:hover{color:#dc3545}.action-icon.add[_ngcontent-%COMP%]{margin-right:10px}.action-icon.add[_ngcontent-%COMP%]:hover{color:#1890ff}.icon[_ngcontent-%COMP%]{margin-right:5px}.icon.file[_ngcontent-%COMP%]{color:#4b555f}.icon.folder[_ngcontent-%COMP%]{color:#6ebdd7}"],data:{animation:[Object($.j)("expandCollapse",[Object($.g)("open",Object($.h)({height:"100%",opacity:1})),Object($.g)("closed",Object($.h)({height:0,opacity:0})),Object($.i)("* => *",[Object($.e)("500ms")])])]}}),ne),ce=["confirmDeleteModal"];function ie(e,n){if(1&e){var t=s.dc();s.cc(0,"div",12),s.cc(1,"label",13),s.Uc(2),s.cc(3,"fa-icon",14),s.oc("click",(function(){s.Kc(t);var e=n.$implicit;return s.rc().onDelete(e.key)})),s.bc(),s.bc(),s.cc(4,"input",15),s.oc("change",(function(e){s.Kc(t);var c=n.$implicit;return s.rc().onChange(e.target.value,c.key)})),s.bc(),s.bc()}if(2&e){var c=n.$implicit,i=s.rc();s.Fb(2),s.Wc(" ",c.key," "),s.Fb(1),s.zc("icon",i.faTrash),s.Fb(1),s.zc("value",c.value)}}var oe,re=((oe=function(){function e(){_classCallCheck(this,e),this.showConfirmChanges=!1,this.propertiesChange=new s.n,this.faTimes=l.m,this.faTrash=l.o,this.faPlus=l.i,this.isAdding=!1,this.newKey="",this.newValue=""}return _createClass(e,[{key:"properties",get:function(){return this.propertiesValue},set:function(e){this.propertiesValue=e,this.propertiesChange.emit(this.propertiesValue)}},{key:"onDelete",value:function(e){this.keyToDelete=e,this.confirmDeleteModal.onOpen("\xbfEst\xe1s seguro que quieres eliminar la propiedad ".concat(e,"?"))}},{key:"onConfirmDelete",value:function(){delete this.properties[this.keyToDelete],this.confirmDeleteModal.closeModal(),this.showConfirmChanges=!0}},{key:"onAddProperty",value:function(){this.properties[this.newKey]=this.newValue,this.newKey="",this.newValue=""}},{key:"onChange",value:function(e,n){this.properties[n]=e}}]),e}()).\u0275fac=function(e){return new(e||oe)},oe.\u0275cmp=s.Qb({type:oe,selectors:[["bo-properties-viewer"]],viewQuery:function(e,n){var t;1&e&&s.Pc(ce,!0),2&e&&s.Ic(t=s.pc())&&(n.confirmDeleteModal=t.first)},inputs:{showConfirmChanges:"showConfirmChanges",properties:"properties"},outputs:{propertiesChange:"propertiesChange"},decls:16,vars:6,consts:[[1,"p-4","container-fluid","mt-4","properties-container"],["class","property",4,"ngFor","ngForOf"],[1,"mt-4","mb-4","add-container"],[1,"font-weight-bold","mb-2"],[1,"row"],[1,"col-md-5"],["type","text","placeholder","Nombre de la propiedad",1,"form-control","add-input","mr-2",3,"ngModel","ngModelChange"],["type","text","placeholder","Valor de la propiedad",1,"form-control","add-input",3,"ngModel","ngModelChange"],[1,"col-md-2"],[1,"btn","btn-primary","btn-sm","py-2","px-3",3,"disabled","click"],[3,"confirm"],["confirmDeleteModal",""],[1,"property"],[1,"label"],["placement","top","ngbTooltip","Eliminar propiedad",1,"action-icon","delete",3,"icon","click"],["type","text",1,"form-control",3,"value","change"]],template:function(e,n){1&e&&(s.cc(0,"div",0),s.Sc(1,ie,5,3,"div",1),s.sc(2,"keyvalue"),s.cc(3,"div",2),s.cc(4,"p",3),s.Uc(5," Agregar una nueva propiedad"),s.bc(),s.cc(6,"div",4),s.cc(7,"div",5),s.cc(8,"input",6),s.oc("ngModelChange",(function(e){return n.newKey=e})),s.bc(),s.bc(),s.cc(9,"div",5),s.cc(10,"input",7),s.oc("ngModelChange",(function(e){return n.newValue=e})),s.bc(),s.bc(),s.cc(11,"div",8),s.cc(12,"button",9),s.oc("click",(function(){return n.onAddProperty()})),s.Uc(13," Agregar "),s.bc(),s.bc(),s.bc(),s.bc(),s.bc(),s.cc(14,"bo-confirm-modal",10,11),s.oc("confirm",(function(){return n.onConfirmDelete()})),s.bc()),2&e&&(s.Fb(1),s.zc("ngForOf",s.tc(2,4,n.properties)),s.Fb(7),s.zc("ngModel",n.newKey),s.Fb(2),s.zc("ngModel",n.newValue),s.Fb(2),s.zc("disabled",0===n.newValue.length||0===n.newKey.length))},directives:[a.m,r.b,r.n,r.p,Q.a,v.a,g.i],pipes:[a.h],styles:[".property[_ngcontent-%COMP%]{margin-bottom:2em}.property[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block}.property[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:40%;margin-left:15px;float:right}.properties-container[_ngcontent-%COMP%]{max-height:600px;overflow:scroll;border:1px solid #cdcdcd;padding:15px}.delete[_ngcontent-%COMP%]{color:#4b555f;margin-left:5px;cursor:pointer;display:none}.delete[_ngcontent-%COMP%]:hover{color:#dc3545}.label[_ngcontent-%COMP%]:hover   .delete[_ngcontent-%COMP%]{display:inline-block}.add-new[_ngcontent-%COMP%]{margin-top:2em;padding:20px 15px}.add-new[_ngcontent-%COMP%]   .add-input[_ngcontent-%COMP%]{display:inline-block;width:45%}.add-new[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{margin-right:5px}.add-container[_ngcontent-%COMP%]{padding-top:2em;border-top:1px solid #cdcdcd}"]}),oe),ae=["confirmModal"],le=["confirmDeleteModal"],se=["addModal"],de=["addConfig"];function pe(e,n){1&e&&(s.cc(0,"div",15),s.Xb(1,"div",16),s.bc())}function ue(e,n){if(1&e&&(s.cc(0,"div",23),s.Xb(1,"bo-file-structure",24),s.bc()),2&e){var t=n.$implicit;s.Fb(1),s.zc("node",t)("path",t.id)}}function fe(e,n){1&e&&(s.cc(0,"div",25),s.Xb(1,"div",16),s.bc())}function me(e,n){1&e&&(s.cc(0,"h4",28),s.Uc(1," Seleccione un archivo para comenzar a editar "),s.bc())}function be(e,n){if(1&e&&(s.cc(0,"h4"),s.Uc(1),s.bc()),2&e){var t=s.rc(3);s.Fb(1),s.Wc(" ",t.selectedFile.path," ")}}function he(e,n){if(1&e){var t=s.dc();s.cc(0,"div"),s.cc(1,"textarea",29),s.oc("ngModelChange",(function(e){return s.Kc(t),s.rc(3).selectedFile.content=e})),s.Uc(2,"                      "),s.bc(),s.cc(3,"div",30),s.cc(4,"button",31),s.oc("click",(function(){return s.Kc(t),s.rc(3).onDeleteFile()})),s.Uc(5,"Borrar archivo"),s.bc(),s.cc(6,"button",32),s.oc("click",(function(){return s.Kc(t),s.rc(3).openConfirm()})),s.Uc(7,"Guardar cambios"),s.bc(),s.bc(),s.bc()}if(2&e){var c=s.rc(3);s.Fb(1),s.zc("ngModel",c.selectedFile.content)}}function ge(e,n){if(1&e){var t=s.dc();s.cc(0,"div"),s.cc(1,"bo-properties-viewer",33),s.oc("propertiesChange",(function(e){return s.Kc(t),s.rc(3).selectedFile.params=e})),s.bc(),s.cc(2,"div",30),s.cc(3,"button",31),s.oc("click",(function(){return s.Kc(t),s.rc(3).onDeleteFile()})),s.Uc(4,"Borrar archivo"),s.bc(),s.cc(5,"button",32),s.oc("click",(function(){return s.Kc(t),s.rc(3).openConfirm()})),s.Uc(6,"Guardar cambios"),s.bc(),s.bc(),s.bc()}if(2&e){var c=s.rc(3);s.Fb(1),s.zc("properties",c.selectedFile.params)}}function ve(e,n){if(1&e&&(s.cc(0,"div",26),s.Sc(1,me,2,0,"h4",27),s.Sc(2,be,2,1,"h4",7),s.Sc(3,he,8,1,"div",7),s.Sc(4,ge,7,1,"div",7),s.bc()),2&e){var t=s.rc(2);s.Fb(1),s.zc("ngIf",!t.selectedFile),s.Fb(1),s.zc("ngIf",t.selectedFile),s.Fb(1),s.zc("ngIf",t.selectedFile&&"plaintext"===t.selectedFile.type),s.Fb(1),s.zc("ngIf",t.selectedFile&&"keyvalue"===t.selectedFile.type)}}function ye(e,n){if(1&e&&(s.cc(0,"div",17),s.cc(1,"div",18),s.Sc(2,ue,2,2,"div",19),s.bc(),s.cc(3,"div",20),s.Sc(4,fe,2,0,"div",21),s.Sc(5,ve,5,4,"div",22),s.bc(),s.bc()),2&e){var t=s.rc();s.Fb(2),s.zc("ngForOf",t.projects),s.Fb(2),s.zc("ngIf",t.isLoadingFile),s.Fb(1),s.zc("ngIf",!t.isLoadingFile)}}function Ce(e,n){1&e&&(s.cc(0,"div"),s.cc(1,"ngb-alert",34),s.Uc(2," No existen componentes para configurar en este proyecto "),s.bc(),s.bc())}var Fe,ke=((Fe=function(){function e(n,t,c,i){var o=this;_classCallCheck(this,e),this.router=n,this.notifService=t,this.projectService=c,this.stateService=i,this.isLoading=!0,this.isLoadingFile=!1,this.faPlusCircle=l.j,this.router.getCurrentNavigation().extras.state?this.project=this.router.getCurrentNavigation().extras.state.project:this.projectService.getAllProjects().subscribe((function(e){var n=parseInt(o.router.url.split("/")[2]);o.project=e.find((function(e){return e.id==n})),o.getProjectInfo()}))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.fileFetchedSubs=this.stateService.fileFetched().subscribe({next:function(n){e.selectedFile=n}}),this.addComponentConfigSubs=this.stateService.addComponentConfig().subscribe({next:function(n){e.addConfig.onOpen()}}),this.deleteComponentSubs=this.stateService.deleteComponent().subscribe({next:function(n){e.componentToDelete=n,e.confirmDeleteModal.onOpen("\xbfEst\xe1s seguro que quieres eliminar el componente ".concat(n.name,"?"))}}),this.fileSelectedSubs=this.stateService.fileSelected().subscribe({next:function(n){e.isLoadingFile=n}}),this.fileNotFoundSubs=this.stateService.onNotFound().subscribe({next:function(n){e.isLoadingFile=!1,e.selectedFile=void 0,e.notifService.notificationEmitted().next(["error","No se ha encontrado el archivo seleccionado"])}}),this.project&&this.getProjectInfo()}},{key:"ngOnDestroy",value:function(){this.fileFetchedSubs.unsubscribe(),this.fileSelectedSubs.unsubscribe(),this.deleteComponentSubs.unsubscribe(),this.fileNotFoundSubs.unsubscribe(),this.addComponentConfigSubs.unsubscribe()}},{key:"getProjectInfo",value:function(){var e=this;this.isLoading=!0,this.selectedFile=void 0,this.projectService.getApplicationsByProjectId(this.project.id).subscribe((function(n){e.projects=n,e.isLoading=!1}),(function(n){e.isLoading=!1}))}},{key:"openAdd",value:function(){this.addModal.onOpen()}},{key:"openAddConfig",value:function(){this.addConfig.onOpen()}},{key:"openConfirm",value:function(){this.confirmModal.onOpen("update")}},{key:"onDeleteFile",value:function(){this.confirmModal.onOpen("delete")}},{key:"onCreated",value:function(e){var n=this;this.projectService.createApplication(this.project.id,e).subscribe((function(e){n.addModal.closeModal(),n.notifService.notificationEmitted().next(["success","Componente agregado correctamente"]),n.getProjectInfo()}),(function(e){n.notifService.unexpectedErrrorEmitted().next(),n.addModal.onError()}))}},{key:"onSave",value:function(e){var n;"update"==e.operation?(n="plaintext"===this.selectedFile.type?{changeMessage:e.reason,type:this.selectedFile.type,content:this.selectedFile.content,name:this.selectedFile.name}:{changeMessage:e.reason,type:this.selectedFile.type,params:this.selectedFile.params,name:this.selectedFile.name},this.updateApplication(n)):"delete"==e.operation&&this.deleteApplication(e.reason)}},{key:"deleteApplication",value:function(e){var n=this;this.projectService.deleteApplication(this.selectedFile.appId,this.selectedFile.path,e).subscribe((function(e){n.getProjectInfo(),n.confirmModal.closeModal(),n.notifService.notificationEmitted().next(["success","Archivo eliminado correctamente"])}),(function(e){n.notifService.unexpectedErrrorEmitted().next()}))}},{key:"updateApplication",value:function(e){var n=this;this.projectService.updateApplication(this.selectedFile.appId,this.selectedFile.path,e).subscribe((function(e){n.confirmModal.closeModal(),n.notifService.notificationEmitted().next(["success","Cambios guardados correctamente"])}),(function(e){n.notifService.unexpectedErrrorEmitted().next()}))}},{key:"onConfirmDelete",value:function(){var e=this;this.projectService.deleteComponent(this.componentToDelete.id).subscribe((function(n){e.getProjectInfo(),e.confirmDeleteModal.closeModal(),e.notifService.notificationEmitted().next(["success","Componente eliminado correctamente"])}),(function(n){e.notifService.unexpectedErrrorEmitted().next()}))}}]),e}()).\u0275fac=function(e){return new(e||Fe)(s.Wb(d.d),s.Wb(p.a),s.Wb(m),s.Wb(h))},Fe.\u0275cmp=s.Qb({type:Fe,selectors:[["bo-project-detail"]],viewQuery:function(e,n){var t;1&e&&(s.Pc(ae,!0),s.Pc(le,!0),s.Pc(se,!0),s.Pc(de,!0)),2&e&&(s.Ic(t=s.pc())&&(n.confirmModal=t.first),s.Ic(t=s.pc())&&(n.confirmDeleteModal=t.first),s.Ic(t=s.pc())&&(n.addModal=t.first),s.Ic(t=s.pc())&&(n.addConfig=t.first))},decls:20,vars:6,consts:[[1,"container-fluid"],[1,"title-container"],[1,"project-name"],[1,"project-description"],[1,"btn","btn-sm","btn-primary","float-right","p-2","mr-2",3,"click"],["class","spinner-container",4,"ngIf"],["class","row",4,"ngIf"],[4,"ngIf"],[3,"save"],["confirmModal",""],[3,"projectId","created"],["addModal",""],["addConfig",""],[3,"confirm"],["confirmDeleteModal",""],[1,"spinner-container"],[1,"spinner"],[1,"row"],[1,"col-md-4","border-right"],["class","mb-2",4,"ngFor","ngForOf"],[1,"col-md-8"],["class","spinner-container sticky-spinner",4,"ngIf"],["class","sticky",4,"ngIf"],[1,"mb-2"],[3,"node","path"],[1,"spinner-container","sticky-spinner"],[1,"sticky"],["class","file-selection",4,"ngIf"],[1,"file-selection"],[1,"plain-text",3,"ngModel","ngModelChange"],[1,"plain-actions","float-right"],[1,"btn","btn-sm","btn-danger","p-2","mr-2",3,"click"],[1,"btn","btn-sm","btn-primary","p-2",3,"click"],[3,"properties","propertiesChange"],["type","info",1,"no-result"]],template:function(e,n){1&e&&(s.cc(0,"div",0),s.cc(1,"div",1),s.cc(2,"h1",2),s.Uc(3),s.bc(),s.cc(4,"h3",3),s.Uc(5),s.bc(),s.cc(6,"button",4),s.oc("click",(function(){return n.openAdd()})),s.Uc(7,"Agregar componente"),s.bc(),s.bc(),s.cc(8,"div",0),s.Sc(9,pe,2,0,"div",5),s.Sc(10,ye,6,3,"div",6),s.Sc(11,Ce,3,0,"div",7),s.bc(),s.bc(),s.cc(12,"bo-confirm-changes-modal",8,9),s.oc("save",(function(e){return n.onSave(e)})),s.bc(),s.cc(14,"bo-add-application-modal",10,11),s.oc("created",(function(e){return n.onCreated(e)})),s.bc(),s.Xb(16,"bo-add-component-configuration",null,12),s.cc(18,"bo-confirm-modal",13,14),s.oc("confirm",(function(){return n.onConfirmDelete()})),s.bc()),2&e&&(s.Fb(3),s.Wc(" ",null==n.project?null:n.project.name," "),s.Fb(2),s.Wc(" ",null==n.project?null:n.project.description," "),s.Fb(4),s.zc("ngIf",n.isLoading),s.Fb(1),s.zc("ngIf",!n.isLoading&&(null==n.projects?null:n.projects.length)>0),s.Fb(1),s.zc("ngIf",0==(null==n.projects?null:n.projects.length)),s.Fb(3),s.zc("projectId",null==n.project?null:n.project.id))},directives:[a.n,j,U,W,Q.a,a.m,te,r.b,r.n,r.p,re,g.a],styles:[".components-container[_ngcontent-%COMP%]{left:0;right:0;margin-left:auto;margin-right:auto;text-align:center;display:grid;grid-template-columns:repeat(auto-fit,minmax(25rem,.1fr));grid-gap:2rem}.component-card[_ngcontent-%COMP%]{min-height:35rem;max-height:35rem;width:20rem}.node[_ngcontent-%COMP%]{border:1px solid #dedede;padding:10px;display:flex}nz-tree[_ngcontent-%COMP%]{overflow:hidden;margin:0 -24px;padding:0 24px}.custom-node[_ngcontent-%COMP%]{cursor:pointer;line-height:24px;display:inline-block}.custom-node[_ngcontent-%COMP%], .file-name[_ngcontent-%COMP%], .folder-name[_ngcontent-%COMP%]{margin-left:4px}.file-desc[_ngcontent-%COMP%], .folder-desc[_ngcontent-%COMP%]{padding:0 8px;display:inline-block;background:#87ceff;color:#fff;position:relative;left:12px}.plain-text[_ngcontent-%COMP%]{resize:vertical;background-color:#fff;width:100%;min-height:600px;border-color:#cdcdcd;padding:10px}.border-right[_ngcontent-%COMP%]{border-right:1px solid #cdcdcd}.file-selection[_ngcontent-%COMP%]{text-align:center}.spinner-container[_ngcontent-%COMP%]{top:50%;left:55%!important}.sticky[_ngcontent-%COMP%]{top:10px}.sticky[_ngcontent-%COMP%], .sticky-spinner[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.sticky-spinner[_ngcontent-%COMP%]{top:40%;float:right;margin-right:25%}.project-name[_ngcontent-%COMP%]{display:inline-block;font-size:32px;margin-right:15px}.project-description[_ngcontent-%COMP%]{display:inline-block;font-style:italic;font-size:24px}  .no-result{margin-left:-15px;margin-top:20px}  .no-result button{display:none}"]}),Fe),Se=t("wuvN"),je=["content"];function xe(e,n){1&e&&(s.cc(0,"div",15),s.Uc(1," Nombre no puede contener espacios. "),s.bc())}function Me(e,n){if(1&e&&s.Xb(0,"fa-icon",16),2&e){var t=s.rc(2);s.zc("icon",t.faSpinner)("spin",!0)}}var Pe=function(e){return{"form-control":!0,"is-invalid":e}};function we(e,n){if(1&e){var t=s.dc();s.cc(0,"div",2),s.cc(1,"h4",3),s.Uc(2," Agregar nuevo proyecto "),s.bc(),s.bc(),s.cc(3,"div",4),s.cc(4,"form",5),s.cc(5,"div",6),s.cc(6,"label",7),s.Uc(7,"Nombre"),s.bc(),s.Xb(8,"input",8),s.Sc(9,xe,2,0,"div",9),s.bc(),s.cc(10,"div",6),s.cc(11,"label",7),s.Uc(12,"Descripci\xf3n"),s.bc(),s.cc(13,"textarea",10),s.Uc(14,"                    "),s.bc(),s.bc(),s.bc(),s.bc(),s.cc(15,"div",11),s.cc(16,"button",12),s.oc("click",(function(){return n.$implicit.dismiss()})),s.Uc(17,"Cancelar"),s.bc(),s.cc(18,"button",13),s.oc("click",(function(){return s.Kc(t),s.rc().emitCreated()})),s.Uc(19," Confirmar "),s.Sc(20,Me,1,2,"fa-icon",14),s.bc(),s.bc()}if(2&e){var c=s.rc();s.Fb(4),s.zc("formGroup",c.projectForm),s.Fb(4),s.zc("ngClass",s.Dc(6,Pe,c.projectForm.get("name").touched&&c.projectForm.get("name").errors&&c.projectForm.get("name").errors.cannotContainSpace)),s.Fb(1),s.zc("ngIf",c.projectForm.get("name").touched&&c.projectForm.get("name").errors&&c.projectForm.get("name").errors.cannotContainSpace),s.Fb(7),s.zc("disabled",c.isSending),s.Fb(2),s.zc("disabled",c.isSending||!c.projectForm.valid),s.Fb(2),s.zc("ngIf",c.isSending)}}var Oe,Ie,_e=((Ie=function(){function e(n){_classCallCheck(this,e),this.modalService=n,this.isVisible=!1,this.projectForm=new r.g({description:new r.d("",[r.u.required,r.u.minLength(3)]),name:new r.d("",[r.u.required,r.u.minLength(3),x.cannotContainSpace])}),this.isSending=!1,this.faSpinner=l.k,this.addNewProject=new s.n}return _createClass(e,[{key:"submitForm",value:function(){for(var e in this.projectForm.controls)this.projectForm.controls[e].markAsDirty(),this.projectForm.controls[e].updateValueAndValidity()}},{key:"handleModal",value:function(){var e=this;this.modalReference=this.modalService.open(this.content,{ariaLabelledBy:"modal-basic-title",beforeDismiss:function(){return e.clearData()},backdrop:"static"})}},{key:"onOpen",value:function(){this.handleModal()}},{key:"clearData",value:function(){return this.projectForm.reset(),!0}},{key:"emitCreated",value:function(){this.isSending=!0,this.addNewProject.emit({name:this.projectForm.controls.name.value,description:this.projectForm.controls.description.value})}},{key:"closeModal",value:function(){this.projectForm.reset(),this.isVisible=!1,this.isSending=!1,this.modalReference.close()}},{key:"onError",value:function(){this.isSending=!1}}]),e}()).\u0275fac=function(e){return new(e||Ie)(s.Wb(g.e))},Ie.\u0275cmp=s.Qb({type:Ie,selectors:[["bo-add-project"]],viewQuery:function(e,n){var t;1&e&&s.Pc(je,!0),2&e&&s.Ic(t=s.pc())&&(n.content=t.first)},outputs:{addNewProject:"addNewProject"},decls:4,vars:0,consts:[["canShow","","route","/crearproyecto",1,"btn","btn-sm","btn-primary","p-2","add-project",3,"click"],["content",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body","mh-150"],[3,"formGroup"],[1,"form-group"],["for","name"],["formControlName","name","id","name","type","text","placeholder","Nombre del proyecto",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","description","placeholder","Descripci\xf3n del proyecto","id","description",1,"form-control"],[1,"modal-footer"],[1,"btn","btn-secondary","btn-sm","p-2",3,"disabled","click"],[1,"btn","btn-primary","btn-sm","p-2",3,"disabled","click"],["style","color: #4b555f",3,"icon","spin",4,"ngIf"],[1,"invalid-feedback"],[2,"color","#4b555f",3,"icon","spin"]],template:function(e,n){1&e&&(s.cc(0,"a",0),s.oc("click",(function(){return n.onOpen()})),s.Uc(1," Agregar Proyecto\n"),s.bc(),s.Sc(2,we,21,8,"ng-template",null,1,s.Tc))},directives:[Se.a,r.w,r.o,r.h,r.b,r.n,r.f,a.l,a.n,v.a],styles:[".login-form-margin[_ngcontent-%COMP%]{margin-bottom:16px}.add-project[_ngcontent-%COMP%]{float:right}.add-project-follow[_ngcontent-%COMP%]{position:absolute;top:85px;right:45px}"]}),Ie),ze=((Oe=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;return e.length>n?e.toString().substring(0,n)+"...":e}}]),e}()).\u0275fac=function(e){return new(e||Oe)},Oe.\u0275pipe=s.Vb({name:"trim",type:Oe,pure:!0}),Oe),Ue=["addProject"],Le=function(e){return["/proyecto",e]},De=function(e){return{project:e}};function Ae(e,n){if(1&e&&(s.cc(0,"div",8),s.cc(1,"div",9),s.cc(2,"h3",10),s.Uc(3),s.bc(),s.cc(4,"p",11),s.Uc(5),s.sc(6,"trim"),s.bc(),s.cc(7,"div",12),s.cc(8,"a",13),s.Uc(9,"Ver proyecto"),s.bc(),s.bc(),s.bc(),s.bc()),2&e){var t=n.$implicit;s.Fb(3),s.Vc(t.name),s.Fb(2),s.Wc(" ",s.uc(6,5,t.description,80)," "),s.Fb(3),s.zc("routerLink",s.Dc(8,Le,t.id))("route","/proyecto/"+t.id)("state",s.Dc(10,De,t))}}function Te(e,n){if(1&e&&(s.cc(0,"div",4),s.cc(1,"div",5),s.cc(2,"h1"),s.Uc(3," Proyectos "),s.bc(),s.bc(),s.cc(4,"div",6),s.Sc(5,Ae,10,12,"div",7),s.bc(),s.bc()),2&e){var t=s.rc();s.Fb(5),s.zc("ngForOf",t.projects)}}function Ee(e,n){1&e&&(s.cc(0,"div",14),s.Xb(1,"div",15),s.bc())}var Ne,qe,Ve,Re=[{path:"",component:(Ne=function(){function e(n,t,c){_classCallCheck(this,e),this.projectsService=n,this.router=t,this.notifService=c,this.isLoading=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.getProjects()}},{key:"onProjectSelected",value:function(e){this.router.navigate(["/proyectos",e.id],{state:{project:e}})}},{key:"getProjects",value:function(){var e=this;this.isLoading=!0,this.projectsService.getAllProjects().subscribe((function(n){e.projects=n,e.isLoading=!1}),(function(n){console.error("ERROR",n),e.isLoading=!1,e.notifService.unexpectedErrrorEmitted().next()}))}},{key:"onAddNewProject",value:function(e){var n=this;this.projectsService.addProject(e).subscribe((function(e){n.getProjects(),n.projectModal.closeModal(),n.notifService.notificationEmitted().next(["success","Proyecto agregado correctamente"])}),(function(e){n.projectModal.onError()}))}}]),e}(),Ne.\u0275fac=function(e){return new(e||Ne)(s.Wb(m),s.Wb(d.d),s.Wb(p.a))},Ne.\u0275cmp=s.Qb({type:Ne,selectors:[["bo-projects"]],viewQuery:function(e,n){var t;1&e&&s.Pc(Ue,!0),2&e&&s.Ic(t=s.pc())&&(n.projectModal=t.first)},decls:4,vars:2,consts:[[3,"addNewProject"],["addProject",""],["class","container-fluid ml-3",4,"ngIf"],["class","spinner-container",4,"ngIf"],[1,"container-fluid","ml-3"],[1,"title-container"],[1,"projects-container","mb-4"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"project-btn-container"],["canShow","",3,"routerLink","route","state"],[1,"spinner-container"],[1,"spinner"]],template:function(e,n){1&e&&(s.cc(0,"bo-add-project",0,1),s.oc("addNewProject",(function(e){return n.onAddNewProject(e)})),s.bc(),s.Sc(2,Te,6,1,"div",2),s.Sc(3,Ee,2,0,"div",3)),2&e&&(s.Fb(2),s.zc("ngIf",!n.isLoading),s.Fb(1),s.zc("ngIf",n.isLoading))},directives:[_e,a.n,a.m,d.f,Se.a],pipes:[ze],styles:[".projects-container[_ngcontent-%COMP%]{left:0;right:0;margin-left:auto;margin-right:auto;text-align:center;display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,.1fr));grid-gap:2rem}.card[_ngcontent-%COMP%]{padding:10px}  .notification{padding:15px 20px!important;border-radius:5px}  .notification-error{background:#d4533b!important}"]}),Ne)},{path:":id",component:ke,canActivate:[t("lDT9").a]}],Ke=((Ve=function e(){_classCallCheck(this,e)}).\u0275mod=s.Ub({type:Ve}),Ve.\u0275inj=s.Tb({factory:function(e){return new(e||Ve)},imports:[[d.g.forChild(Re)],d.g]}),Ve),Xe=((qe=function e(){_classCallCheck(this,e)}).\u0275mod=s.Ub({type:qe}),qe.\u0275inj=s.Tb({factory:function(e){return new(e||qe)},imports:[[a.c,Ke,r.i,r.s,v.b,g.f,g.j,g.b,g.d,o.a]]}),qe)}}]);